/*! For license information please see main.f3d9e97a.chunk.js.LICENSE.txt */
(this["webpackJsonprpg-404"]=this["webpackJsonprpg-404"]||[]).push([[0],{35:function(e){e.exports=JSON.parse('{"contractName":"RPG404","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"flipSale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"freeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newBaseExtension","type":"string"}],"name":"setBaseExtension","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newCost","type":"uint256"}],"name":"setCost","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newMaxPerTxDuringMint","type":"uint256"}],"name":"setmaxMintAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseExtension","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"freeMintedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxFreeSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPerAddressDuringFreeMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPerAddressDuringMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPerTxDuringMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"mintedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"saleIsActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"walletOfOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"}]}')},48:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},58:function(e,t){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),i=n(34),s=n.n(i),c=(n(48),n(8)),u=n(2),o=n(16),l=n(14),p=n(35),m=Object(a.createContext)({contractAddress:"0xc21dCcA393Fe26D585db6598533b655816A87543",contractAbi:p.abi,openseaColletionName:"rpg-404",isRinkeby:!1,parseEtherError:function(){},checkAndSwitchNetwork:function(){},price:-1,setPrice:function(){},maxSupply:-1,setMaxSupply:function(){},maxFreeSupply:-1,setMaxFreeSupply:function(){},totalSupply:-1,setTotalSupply:function(){},maxPerTxDuringMint:-1,setMaxPerTxDuringMint:function(){},maxPerAddressDuringFreeMint:-1,setMaxPerAddressDuringFreeMint:function(){},currPage:null,setCurrPage:function(){},currentAccount:null,statusMsg:"",updateStatus:function(){}}),d=(n(49),n(5)),b=function(e){var t=Object(a.useRef)();return Object(d.jsx)("div",{className:"social-icon",onMouseEnter:function(){t.current.src=""+e.iconHover},onMouseLeave:function(){t.current.src=""+e.iconNormal},onClick:e.onClick,children:Object(d.jsx)("img",{ref:t,className:"social-icon-img",src:""+e.iconNormal,alt:e.alt})})};var y=function(e){var t=Object(a.useContext)(m),n=t.contractAddress,r=t.openseaColletionName,i=t.isRinkeby,s=[{ref:null,iconNormal:"/img/social/icon_twitter.png",iconHover:"/img/social/icon_twitter_hover.png",alt:"Twitter",onClick:function(){window.open("https://twitter.com/intent/follow?screen_name=rug_pull_games")}},{ref:null,iconNormal:"/img/social/icon_opensea.png",iconHover:"/img/social/icon_opensea_hover.png",alt:"Opensea",onClick:function(){window.open("https://".concat(i?"testnets.":"","opensea.io/collection/").concat(r))}},{ref:null,iconNormal:"/img/social/icon_etherscan.png",iconHover:"/img/social/icon_etherscan_hover.png",alt:"Etherscan",onClick:function(){window.open("https://".concat(i?"rinkeby.":"","etherscan.io/address/").concat(n))}},{ref:null,iconNormal:"/img/social/icon_metamask.png",iconHover:"/img/social/icon_metamask_hover.png",alt:"MetaMask",onClick:function(){e.connectWalletHandler()}}];return Object(d.jsx)("div",{className:"social-links",children:s.map((function(e){return Object(a.createElement)(b,Object(l.a)(Object(l.a)({},e),{},{key:"social-icon-".concat(e.alt)}))}))})};n(51);var f=function(){return Object(d.jsxs)("div",{className:"logo",children:[Object(d.jsx)("img",{className:"logo-rpg-icon",src:"/img/icon_rug_pull_games_logo_lg.png",alt:"Twitter",onClick:function(){return window.open("https://rug-pull.games","_blank")}}),Object(d.jsx)("img",{className:"logo-rpg-404-icon",src:"/img/icon_rpg_404.png",alt:"Discord"})]})};n(52);var g=function(e){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)(f,{}),Object(d.jsx)(y,{connectWalletHandler:e.connectWalletHandler})]})};n(53);var j=function(){var e,t,n=Object(a.useContext)(m).currentAccount;return Object(d.jsx)("div",{className:"wallet-acc",children:n?(e=n,t=4,e.length>=2*t+2?"".concat(e.substring(0,t+2),"...").concat(e.substr(e.length-t)):e):""})};n(54);var v=function(e){return Object(d.jsx)("div",{className:"status",children:e.statusMsg})},x=(n(55),n(11));n(56);var h=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(1),l=Object(c.a)(s,2),p=l[0],b=l[1],y=Object(a.useContext)(m),f=y.contractAddress,g=y.contractAbi,j=y.openseaColletionName,v=y.isRinkeby,h=y.parseEtherError,O=y.checkAndSwitchNetwork,w=y.price,M=y.setPrice,k=y.maxSupply,T=y.setMaxSupply,S=y.maxFreeSupply,_=y.setMaxFreeSupply,P=y.totalSupply,C=y.setTotalSupply,A=y.maxPerTxDuringMint,F=y.setMaxPerTxDuringMint,I=y.maxPerAddressDuringFreeMint,E=y.setMaxPerAddressDuringFreeMint,D=y.setCurrPage,B=y.currentAccount,W=y.updateStatus;Object(a.useEffect)((function(){var t=function(){var t=Object(o.a)(Object(u.a)().mark((function t(){var n,a,r,i,s,c,o,l,p,m,d,b;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window,a=n.ethereum){t.next=4;break}return W("Please install MetaMask."),t.abrupt("return");case 4:if(null!==B){t.next=8;break}return W("Please connect wallet first"),e.connectWalletHandler(),t.abrupt("return");case 8:if(W(f),f&&""!==f){t.next=12;break}return W("Contract is not available"),t.abrupt("return");case 12:return t.prev=12,r=new x.a.providers.Web3Provider(a),i=r.getSigner(),s=new x.a.Contract(f,g,i),W("Loading mint contract info..."),t.next=19,s.maxSupply();case 19:return c=t.sent,T(c.toNumber()),t.next=23,s.maxFreeSupply();case 23:return o=t.sent,_(o.toNumber()),t.next=27,s.totalSupply();case 27:return l=t.sent,C(l.toNumber()),t.next=31,s.maxPerTxDuringMint();case 31:return p=t.sent,F(p.toNumber()),t.next=35,s.maxPerAddressDuringFreeMint();case 35:if(m=t.sent,E(m.toNumber()),!(P<S)){t.next=41;break}M(0),t.next=45;break;case 41:return t.next=43,s.cost();case 43:d=t.sent,M(x.a.utils.formatEther(d));case 45:W("Mint contract info loaded"),t.next=52;break;case 48:t.prev=48,t.t0=t.catch(12),b=h(t.t0),W(b);case 52:case"end":return t.stop()}}),t,null,[[12,48]])})));return function(){return t.apply(this,arguments)}}();t()}),[B]);var R=function(e){e&&w>-1&&(e=P<S?Math.min(I,Math.max(1,e)):Math.min(A,Math.max(1,e)),b(e))};Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(u.a)().mark((function e(){var t,n,a,r,i,s,c,o;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.ethereum){e.next=4;break}return W("Please install MetaMask."),e.abrupt("return");case 4:if(null!==B){e.next=6;break}return e.abrupt("return");case 6:if(f&&""!==f){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,e.next=11,O(v,W);case 11:return a=new x.a.providers.Web3Provider(n),r=a.getSigner(),i=new x.a.Contract(f,g,r),e.next=16,i.totalSupply();case 16:if(s=e.sent,C(s.toNumber()),!(P<S)){e.next=22;break}M(0),e.next=26;break;case 22:return e.next=24,i.cost();case 24:c=e.sent,M(x.a.utils.formatEther(c));case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(8),o=h(e.t0),W(o);case 32:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval((function(){e()}),500);return function(){return clearInterval(t)}}));var H,G=function(){var t=Object(o.a)(Object(u.a)().mark((function t(){var n,a,s,c,o,l,m;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(P>=k)){t.next=4;break}return alert("Thank you for your interest. \nGohan-kun is sold out. \nPlease check https://opensea.io/collection/gohan-kun."),window.open("https://".concat(v?"testnets.":"","opensea.io/collection/").concat(j)),t.abrupt("return");case 4:if(n=window,a=n.ethereum){t.next=8;break}return W("Please install MetaMask."),t.abrupt("return");case 8:if(null!==B){t.next=12;break}return W("Please connect wallet first"),e.connectWalletHandler(),t.abrupt("return");case 12:if(!r){t.next=15;break}return W("Busy... please wait"),t.abrupt("return");case 15:if(f&&""!==f){t.next=18;break}return W("Contract is not available"),t.abrupt("return");case 18:if(!(w<-1)){t.next=21;break}return W("Load contract info first"),t.abrupt("return");case 21:return t.prev=21,t.next=24,O(v,W);case 24:if(s=new x.a.providers.Web3Provider(a),c=s.getSigner(),o=new x.a.Contract(f,g,c),W("Initialize minting..."),i(!0),!(P<S)){t.next=35;break}return t.next=32,o.freeMint(p);case 32:l=t.sent,t.next=38;break;case 35:return t.next=37,o.mint(p,{value:x.a.utils.parseEther((w*p).toString())});case 37:l=t.sent;case 38:return W("Mint (price: ".concat(w,", quantity: ").concat(p,")... please wait")),t.next=41,l.wait();case 41:W("Mined, see transction: https://".concat(v?"rinkeby.":"","etherscan.io/tx/").concat(l.hash)),i(!1),t.next=50;break;case 45:t.prev=45,t.t0=t.catch(21),m=h(t.t0),W(m),i(!1);case 50:case"end":return t.stop()}}),t,null,[[21,45]])})));return function(){return t.apply(this,arguments)}}();return H=-1!==P&&P<k?Object(d.jsxs)("div",{className:"vending-mint",children:[Object(d.jsx)("img",{className:"vending-btn-add",src:"/img/btn_mint_add.png",alt:"Button of Increasing Mint Quantity",onClick:function(){R(p+1)}}),Object(d.jsx)("img",{className:"vending-btn-sub",src:"/img/btn_mint_sub.png",alt:"Button of Decreasing Mint Quantity",onClick:function(){R(p-1)}}),Object(d.jsx)("img",{className:"vending-bg-input-frame",src:"/img/bg_mint_input_frame.png",alt:"Mint Quantity Input Frame"}),Object(d.jsx)("img",{className:"vending-btn-mint",src:"/img/btn_mint.png",alt:"Mint Quantity Input Frame",onClick:G}),Object(d.jsx)("div",{className:"vending-price",children:w>0?"Price: ".concat(w," eth"):0===w?"Price: Free":""}),Object(d.jsx)("div",{className:"vending-supply",children:w>-1?"Mint#: ".concat(P," / ").concat(P<S?S:k):""}),Object(d.jsx)("div",{className:"vending-quantity",children:w>-1?p:"???"})]}):Object(d.jsx)("img",{className:"vending-btn-opensea",src:"/img/btn_mint_opensea.png",alt:"Buy NFTs on Opensea",onClick:function(){window.open("https://".concat(v?"testnets.":"","opensea.io/collection/").concat(j))}}),Object(d.jsxs)("div",{className:"vending-machine",children:[Object(d.jsx)("img",{className:"vending-bg",src:"/img/bg_vending_machine.png",alt:"Vending Machine Background"}),Object(d.jsx)("img",{className:"vending-btn-to-game",src:"/img/btn_mint_to_game.png",alt:"Button of Vending Machine to Game",onClick:function(){return D(N.GAME)}}),H]})};var O=function(e){var t=Object(a.useRef)(null);return Object(d.jsxs)("div",{className:"mint",children:[Object(d.jsx)("img",{className:"mint-market-bg",src:"/img/bg_mint_market.png",alt:"Mint Market Background",onClick:function(){var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}}),Object(d.jsx)("div",{ref:t,children:Object(d.jsx)(h,Object(l.a)({},e.connectWalletHandler))})]})},w=n(39),M=(n(67),function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(d.jsxs)("div",{className:"nft-item",onClick:function(){e.selectNft(e.metadata),e.hideNftPanel()},draggable:"true",onDragStart:function(e){i(e.clientX),e.dataTransfer.setDragImage(e.target,1e5,0)},onDrag:function(t){t.clientX>0&&(e.scrollPanel(r-t.clientX),i(t.clientX)),t.dataTransfer.setDragImage(t.target,1e5,0)},children:[Object(d.jsx)("img",{className:"nft-item-loading",src:"/img/placehold_nft_loading.png",alt:"NFT Loading"}),Object(d.jsx)("img",{className:"nft-image",src:"https://rpg.mypinata.cloud/ipfs/".concat(e.metadata.image.split("ipfs://")[1]),alt:e.metadata.name})]})});var k=function(e){var t=Object(a.useRef)(),n=function(e){t.current.scrollLeft+=e};return Object(d.jsx)("div",{className:"nft-panel",children:Object(d.jsx)("div",{className:"nft-container",ref:t,onWheel:function(e){e.deltaY>0&&n(30),e.deltaY<0&&n(-30)},children:e.metadata.map((function(t){var r={metadata:t,selectNft:e.selectNft,hideNftPanel:e.hideNftPanel,scrollPanel:n};return Object(a.createElement)(M,Object(l.a)(Object(l.a)({},r),{},{key:"nft-metadata-".concat(t.dna)}))}))})})};n(68);var T=function(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)({}),p=Object(c.a)(s,2),b=p[0],y=p[1],f=Object(a.useState)(!1),g=Object(c.a)(f,2),j=g[0],v=g[1],h=Object(a.useState)("open"),O=Object(c.a)(h,2),M=O[0],T=O[1],S=Object(a.useState)(!1),_=Object(c.a)(S,2),P=_[0],C=_[1],A=Object(a.useContext)(m),F=A.currentAccount,I=A.contractAddress,E=A.contractAbi,D=A.parseEtherError,B=A.checkAndSwitchNetwork,W=A.isRinkeby,R=A.updateStatus,H=A.setCurrPage,G=function(){var t=Object(o.a)(Object(u.a)().mark((function t(){var n,a,s,c;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window,a=n.ethereum){t.next=4;break}return R("Please install MetaMask."),t.abrupt("return");case 4:return t.prev=4,t.delegateYield(Object(u.a)().mark((function t(){var n,s,c,o,l,p,m,d,b;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(W,R);case 2:if(null!==F){t.next=6;break}return R("Please connect wallet first"),e.connectWalletHandler(),t.abrupt("return",{v:void 0});case 6:if(R(I),I&&""!==I){t.next=10;break}return R("Contract is not available"),t.abrupt("return",{v:void 0});case 10:return y({}),n=new x.a.providers.Web3Provider(a),s=n.getSigner(),c=new x.a.Contract(I,E,s),R("Loading NFTs from blockchain..."),t.next=17,c.walletOfOwner(F);case 17:if(o=t.sent,l=[],o.length>0){R("You have ".concat(o.length," ").concat(o.length>1?"NFTs":"NFT",". Loading metadata...")),p=Object(w.a)(o);try{for(p.s();!(m=p.n()).done;)d=m.value,b=d.toNumber(),c.tokenURI(b).then((function(e){e.startsWith("ipfs://")&&(e="https://rpg.mypinata.cloud/ipfs/".concat(e.split("ipfs://")[1])),fetch(e).then((function(e){return e.json()})).then((function(e){l.push(e),i([].concat(l)),R("You have ".concat(o.length," ").concat(o.length>1?"NFTs":"NFT",". ").concat(l.length," / ").concat(o.length," loaded. ").concat(r.length===o.length?"Select your favor NFT and play.":""))})).catch((function(e){var t=D(e);R(t)}))}))}catch(u){p.e(u)}finally{p.f()}}else R("You don't have any RPG404 NFTs. Please mint or buy on opensea.io");case 20:case"end":return t.stop()}}),t)}))(),"t0",6);case 6:if("object"!==typeof(s=t.t0)){t.next=9;break}return t.abrupt("return",s.v);case 9:t.next=15;break;case 11:t.prev=11,t.t1=t.catch(4),c=D(t.t1),R(c);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=window.ethereum;if(e)return G(),e.on("accountsChanged",G),function(){null===e||void 0===e||e.removeListener("accountsChanged",G)}}),[F]);var L=function(){F?r.length>0?(T("open"),v(!0)):(R("No NFT loaded"),G()):(R("Please connect wallet first"),e.connectWalletHandler())};return Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("img",{className:"game-bg",src:"/img/game_bg.png",alt:"Game Background"}),Object(d.jsx)("iframe",{id:"godot-game",className:"game-iframe",title:"RPG 404",src:"/game/game.html",frameBorder:"0",scrolling:"no",crossOrigin:"anonymous"}),!P&&Object(d.jsxs)("div",{className:"game-cover",children:[Object(d.jsx)("img",{className:"game-cover-img",src:"/img/game_cover.png",alt:"Game Cover"}),!j&&Object(d.jsx)("img",{className:"btn-game-play ".concat(F?"btn-clickable":"btn-unclickable"),src:"/img/btn_game_play.png",alt:"Play Game Button",onClick:function(){if(F)if(r.length>0)if(b.name){var t=document.getElementById("godot-game");t?(t.contentWindow.nftMetadata=Object(l.a)({},b),window.nftMetadata=JSON.stringify(b),C(!0),t.contentWindow.startGame(),R("Game start, enjoy!")):(C(!1),R("Cannot find game :-("))}else R("Please select your favor NFT before playing"),L();else R("No NFT loaded"),G();else R("Please connect wallet first"),e.connectWalletHandler()}}),!j&&Object(d.jsx)("img",{className:"btn-select-nft ".concat(F?"btn-clickable":"btn-unclickable"),src:"/img/btn_game_select_nft.png",alt:"Select NFT Button",onClick:L})]}),Object(d.jsx)("img",{className:"btn-game-to-mint",src:"/img/btn_game_to_mint.png",alt:"Mint Button",onClick:function(){return H(N.MINT)}}),j?Object(d.jsx)("div",{className:M,children:Object(d.jsx)(k,{metadata:r,selectNft:function(e){if(e){var t=e;y(Object(l.a)({},t)),R("Selected NFT: ".concat(t.name))}},hideNftPanel:Object(o.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("close"),e.next=3,new Promise((function(e){return setTimeout(e,200)}));case 3:v(!1);case 4:case"end":return e.stop()}}),e)})))})}):null]})},N=(n(69),{GAME:"game",MINT:"mint"}),S=function(e){var t="error";if(e&&e.message){console.error(e.message);var n=e.message.match(/(?:"message":)".*?"/g);t=n&&n.length>0&&""!==n[0]?n[0].replace('"message":',""):e.message}return t},_=function(){var e=Object(o.a)(Object(u.a)().mark((function e(t,n){var a,r,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=window,r=a.ethereum){e.next=3;break}throw new Error("Please install MetaMask.");case 3:return e.next=5,r.networkVersion;case 5:if(i=e.sent,!t||"4"===i){e.next=10;break}return n("Please change network to Rinkeby"),e.next=10,r.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(Number(4).toString(16))}]});case 10:if(t||"1"===i){e.next=14;break}return n("Please change network to ethereum Mainnet"),e.next=14,r.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(Number(1).toString(16))}]});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var P=function(){var e=Object(a.useContext)(m),t=e.contractAddress,n=e.contractAbi,r=e.openseaColletionName,i=e.isRinkeby,s=Object(a.useState)(0),l=Object(c.a)(s,2),p=l[0],b=l[1],y=Object(a.useState)(0),f=Object(c.a)(y,2),x=f[0],h=f[1],w=Object(a.useState)(0),M=Object(c.a)(w,2),k=M[0],P=M[1],C=Object(a.useState)(0),A=Object(c.a)(C,2),F=A[0],I=A[1],E=Object(a.useState)(0),D=Object(c.a)(E,2),B=D[0],W=D[1],R=Object(a.useState)(0),H=Object(c.a)(R,2),G=H[0],L=H[1],q=Object(a.useState)(N.GAME),Y=Object(c.a)(q,2),J=Y[0],Q=Y[1],U=Object(a.useState)(null),V=Object(c.a)(U,2),X=V[0],z=V[1],K=Object(a.useState)(""),Z=Object(c.a)(K,2),$=Z[0],ee=Z[1],te=function(e){console.log(e),ee("Status: ".concat(e))},ne=Object(a.useMemo)((function(){return{contractAddress:t,contractAbi:n,openseaColletionName:r,isRinkeby:i,parseEtherError:S,checkAndSwitchNetwork:_,price:p,setPrice:b,maxSupply:x,setMaxSupply:h,maxFreeSupply:F,setMaxFreeSupply:I,totalSupply:k,setTotalSupply:P,maxPerTxDuringMint:B,setMaxPerTxDuringMint:W,maxPerAddressDuringFreeMint:G,setMaxPerAddressDuringFreeMint:L,currPage:J,setCurrPage:Q,currentAccount:X,statusMsg:$,updateStatus:te}}),[n,t,J,X,i,F,G,B,x,r,p,$,k]),ae=Object(a.useCallback)(Object(o.a)(Object(u.a)().mark((function e(){var t,n,a,r,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.ethereum){e.next=4;break}return alert("Please install MetaMask."),e.abrupt("return");case 4:return e.prev=4,e.next=7,_(i,te);case 7:if(!X){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,n.request({method:"eth_requestAccounts"});case 11:0!==(a=e.sent).length?(r=a[0],z(r),te("Connected (address: ".concat(r,")"))):te("No authorized account found"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),s=S(e.t0),te(s);case 19:case"end":return e.stop()}}),e,null,[[4,15]])}))),[X,i]);return Object(a.useEffect)((function(){var e=window.ethereum;if(e){var t=function(){var e=arguments.length<=0?void 0:arguments[0];if(0===e.length)te("No authorized account found");else if(e[0]!==X){var t=e[0];z(t),te("Connected (address: ".concat(t,")"))}};return e.on("accountsChanged",t),function(){null===e||void 0===e||e.removeListener("accountsChanged",t)}}})),Object(a.useEffect)((function(){ae()}),[ae]),Object(d.jsx)(m.Provider,{value:ne,children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(g,{connectWalletHandler:ae}),J===N.GAME&&Object(d.jsx)(T,{connectWalletHandler:ae}),J===N.MINT&&Object(d.jsx)(O,{connectWalletHandler:ae}),Object(d.jsx)(j,{}),Object(d.jsx)(v,{statusMsg:$})]})})};s.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(P,{})}))}},[[70,1,2]]]);
//# sourceMappingURL=main.f3d9e97a.chunk.js.map