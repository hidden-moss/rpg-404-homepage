/*! For license information please see main.60161993.chunk.js.LICENSE.txt */
(this["webpackJsonprpg-404"]=this["webpackJsonprpg-404"]||[]).push([[0],{208:function(e,t,n){},294:function(e){e.exports=JSON.parse('{"contractName":"RPG404","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"flipSale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"freeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_quantity","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newBaseExtension","type":"string"}],"name":"setBaseExtension","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newCost","type":"uint256"}],"name":"setCost","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newMaxPerTxDuringMint","type":"uint256"}],"name":"setmaxMintAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseExtension","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"freeMintedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxFreeSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPerAddressDuringFreeMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPerAddressDuringMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPerTxDuringMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"mintedAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"saleIsActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"walletOfOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"}]}')},320:function(e,t,n){},321:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},339:function(e,t){},379:function(e,t){},381:function(e,t){},402:function(e,t){},404:function(e,t){},416:function(e,t){},417:function(e,t){},432:function(e,t){},519:function(e,t){},543:function(e,t){},581:function(e,t,n){},582:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),i=n(293),s=n.n(i),c=(n(320),n(1)),o=n(10),u=n(25),l=n(44),p=n(52),d=n(294),m=Object(a.createContext)({contractAddress:"0xc21dCcA393Fe26D585db6598533b655816A87543",contractAbi:d.abi,openseaColletionName:"rpg-404",isTestnet:!1,parseEtherError:function(){},price:-1,setPrice:function(){},maxSupply:-1,setMaxSupply:function(){},maxFreeSupply:-1,setMaxFreeSupply:function(){},totalSupply:-1,setTotalSupply:function(){},maxPerTxDuringMint:-1,setMaxPerTxDuringMint:function(){},maxPerAddressDuringFreeMint:-1,setMaxPerAddressDuringFreeMint:function(){},currPage:null,setCurrPage:function(){},provider:null,library:null,chainId:null,account:null,checkAndSwitchNetwork:function(){},statusMsg:"",updateStatus:function(){}}),b=(n(321),n(11)),f=function(e){var t=Object(a.useRef)();return Object(b.jsx)("div",{className:"social-icon",onMouseEnter:function(){t.current.src=""+e.iconHover},onMouseLeave:function(){t.current.src=""+e.iconNormal},onClick:e.onClick,children:Object(b.jsx)("img",{ref:t,className:"social-icon-img",src:""+e.iconNormal,alt:e.alt})})};var y=function(e){var t=Object(a.useContext)(m),n=t.contractAddress,r=t.openseaColletionName,i=t.isTestnet,s=[{ref:null,iconNormal:"/img/social/icon_twitter.png",iconHover:"/img/social/icon_twitter_hover.png",alt:"Twitter",onClick:function(){window.open("https://twitter.com/intent/follow?screen_name=rug_pull_games")}},{ref:null,iconNormal:"/img/social/icon_opensea.png",iconHover:"/img/social/icon_opensea_hover.png",alt:"Opensea",onClick:function(){window.open("https://".concat(i?"testnets.":"","opensea.io/collection/").concat(r))}},{ref:null,iconNormal:"/img/social/icon_etherscan.png",iconHover:"/img/social/icon_etherscan_hover.png",alt:"Etherscan",onClick:function(){window.open("https://".concat(i?"rinkeby.":"","etherscan.io/address/").concat(n))}},{ref:null,iconNormal:"/img/social/icon_metamask.png",iconHover:"/img/social/icon_metamask_hover.png",alt:"MetaMask",onClick:function(){e.connectWallet()}}];return Object(b.jsx)("div",{className:"social-links",children:s.map((function(e){return Object(a.createElement)(f,Object(p.a)(Object(p.a)({},e),{},{key:"social-icon-".concat(e.alt)}))}))})};n(323);var g=function(){return Object(b.jsxs)("div",{className:"logo",children:[Object(b.jsx)("img",{className:"logo-rpg-icon",src:"/img/icon_rug_pull_games_logo_lg.png",alt:"Twitter",onClick:function(){return window.open("https://rug-pull.games","_blank")}}),Object(b.jsx)("img",{className:"logo-rpg-404-icon",src:"/img/icon_rpg_404.png",alt:"Discord"})]})};n(324);var j=function(e){return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)(g,{}),Object(b.jsx)(y,{connectWallet:e.connectWallet})]})},v=n(63),h=(n(325),new l.a.providers.JsonRpcProvider("https://mainnet.infura.io/v3/".concat("9ff9cd34b94a48d9bc6e3fc48f02673f"))),x=function(e,t){return e.length>=2*t+2?"".concat(e.substring(0,t+2),"...").concat(e.substr(e.length-t)):e};var O=function(){var e=Object(a.useContext)(m).account,t=function(){var e=Object(a.useState)({}),t=Object(u.a)(e,2),n=t[0],r=t[1],i=function(){var e=Object(o.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n[t]){e.next=2;break}return e.abrupt("return",n[t]);case 2:return console.log("fetching address.. "),a=h.lookupAddress(t),r((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(v.a)({},t,null!==a&&void 0!==a?a:t))})),e.abrupt("return",null!==a&&void 0!==a?a:t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{names:n,getName:i}}(),n=t.getName,r=Object(a.useState)(""),i=Object(u.a)(r,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(o.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return l(x(e,4)),t.next=4,n(e);case 4:!(a=t.sent)||a&&42===a.length&&a.startsWith("0x")?l(x(e,4)):l(a),t.next=9;break;case 8:l("");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(b.jsx)("div",{className:"wallet-acc",children:s})};n(334);var w=function(e){return Object(b.jsx)("div",{className:"status",children:e.statusMsg})};n(335),n(336);var M=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(1),p=Object(u.a)(s,2),d=p[0],f=p[1],y=Object(a.useContext)(m),g=y.contractAddress,j=y.contractAbi,v=y.openseaColletionName,h=y.isTestnet,x=y.parseEtherError,O=y.checkAndSwitchNetwork,w=y.price,M=y.setPrice,k=y.maxSupply,T=y.setMaxSupply,N=y.maxFreeSupply,S=y.setMaxFreeSupply,P=y.totalSupply,C=y.setTotalSupply,_=y.maxPerTxDuringMint,E=y.setMaxPerTxDuringMint,A=y.maxPerAddressDuringFreeMint,F=y.setMaxPerAddressDuringFreeMint,I=y.setCurrPage,D=y.account,W=y.updateStatus;Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(c.a)().mark((function e(){var t,n,a,r,i,s,o,u,p,d,m,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.ethereum){e.next=4;break}return W("Please install MetaMask."),e.abrupt("return");case 4:if(D){e.next=7;break}return W("Please connect wallet first"),e.abrupt("return");case 7:if(W(g),g&&""!==g){e.next=11;break}return W("Contract is not available"),e.abrupt("return");case 11:return e.prev=11,a=new l.a.providers.Web3Provider(n),r=a.getSigner(),i=new l.a.Contract(g,j,r),W("Loading mint contract info..."),e.next=18,i.maxSupply();case 18:return s=e.sent,T(s.toNumber()),e.next=22,i.maxFreeSupply();case 22:return o=e.sent,S(o.toNumber()),e.next=26,i.totalSupply();case 26:return u=e.sent,C(u.toNumber()),e.next=30,i.maxPerTxDuringMint();case 30:return p=e.sent,E(p.toNumber()),e.next=34,i.maxPerAddressDuringFreeMint();case 34:if(d=e.sent,F(d.toNumber()),!(P<N)){e.next=40;break}M(0),e.next=44;break;case 40:return e.next=42,i.cost();case 42:m=e.sent,M(l.a.utils.formatEther(m));case 44:W("Mint contract info loaded"),e.next=51;break;case 47:e.prev=47,e.t0=e.catch(11),b=x(e.t0),W(b);case 51:case"end":return e.stop()}}),e,null,[[11,47]])})));return function(){return e.apply(this,arguments)}}();e()}),[D]);var B=function(e){e&&w>-1&&(e=P<N?Math.min(A,Math.max(1,e)):Math.min(_,Math.max(1,e)),f(e))};Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(c.a)().mark((function e(){var t,n,a,r,i,s,o,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.ethereum){e.next=4;break}return W("Please install MetaMask."),e.abrupt("return");case 4:if(D){e.next=6;break}return e.abrupt("return");case 6:if(g&&""!==g){e.next=8;break}return e.abrupt("return");case 8:return e.prev=8,e.next=11,O(h,W);case 11:return a=new l.a.providers.Web3Provider(n),r=a.getSigner(),i=new l.a.Contract(g,j,r),e.next=16,i.totalSupply();case 16:if(s=e.sent,C(s.toNumber()),!(P<N)){e.next=22;break}M(0),e.next=26;break;case 22:return e.next=24,i.cost();case 24:o=e.sent,M(l.a.utils.formatEther(o));case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(8),u=x(e.t0),W(u);case 32:case"end":return e.stop()}}),e,null,[[8,28]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval((function(){e()}),500);return function(){return clearInterval(t)}}));var L,G=function(){var t=Object(o.a)(Object(c.a)().mark((function t(){var n,a,s,o,u,p,m;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(P>=k)){t.next=4;break}return alert("Thank you for your interest. \nGohan-kun is sold out. \nPlease check https://opensea.io/collection/gohan-kun."),window.open("https://".concat(h?"testnets.":"","opensea.io/collection/").concat(v)),t.abrupt("return");case 4:if(n=window,a=n.ethereum){t.next=8;break}return W("Please install MetaMask."),t.abrupt("return");case 8:if(D){t.next=12;break}return W("Please connect wallet first"),e.connectWallet(),t.abrupt("return");case 12:if(!r){t.next=15;break}return W("Busy... please wait"),t.abrupt("return");case 15:if(g&&""!==g){t.next=18;break}return W("Contract is not available"),t.abrupt("return");case 18:if(!(w<-1)){t.next=21;break}return W("Load contract info first"),t.abrupt("return");case 21:return t.prev=21,t.next=24,O(h,W);case 24:if(s=new l.a.providers.Web3Provider(a),o=s.getSigner(),u=new l.a.Contract(g,j,o),W("Initialize minting..."),i(!0),!(P<N)){t.next=35;break}return t.next=32,u.freeMint(d);case 32:p=t.sent,t.next=38;break;case 35:return t.next=37,u.mint(d,{value:l.a.utils.parseEther((w*d).toString())});case 37:p=t.sent;case 38:return W("Mint (price: ".concat(w,", quantity: ").concat(d,")... please wait")),t.next=41,p.wait();case 41:W("Mined, see transction: https://".concat(h?"rinkeby.":"","etherscan.io/tx/").concat(p.hash)),i(!1),t.next=50;break;case 45:t.prev=45,t.t0=t.catch(21),m=x(t.t0),W(m),i(!1);case 50:case"end":return t.stop()}}),t,null,[[21,45]])})));return function(){return t.apply(this,arguments)}}();return L=-1!==P&&P<k?Object(b.jsxs)("div",{className:"vending-mint",children:[Object(b.jsx)("img",{className:"vending-btn-add",src:"/img/btn_mint_add.png",alt:"Button of Increasing Mint Quantity",onClick:function(){B(d+1)}}),Object(b.jsx)("img",{className:"vending-btn-sub",src:"/img/btn_mint_sub.png",alt:"Button of Decreasing Mint Quantity",onClick:function(){B(d-1)}}),Object(b.jsx)("img",{className:"vending-bg-input-frame",src:"/img/bg_mint_input_frame.png",alt:"Mint Quantity Input Frame"}),Object(b.jsx)("img",{className:"vending-btn-mint",src:"/img/btn_mint.png",alt:"Mint Quantity Input Frame",onClick:G}),Object(b.jsx)("div",{className:"vending-price",children:w>0?"Price: ".concat(w," eth"):0===w?"Price: Free":""}),Object(b.jsx)("div",{className:"vending-supply",children:w>-1?"Mint#: ".concat(P," / ").concat(P<N?N:k):""}),Object(b.jsx)("div",{className:"vending-quantity",children:w>-1?d:"???"})]}):Object(b.jsx)("img",{className:"vending-btn-opensea",src:"/img/btn_mint_opensea.png",alt:"Buy NFTs on Opensea",onClick:function(){window.open("https://".concat(h?"testnets.":"","opensea.io/collection/").concat(v))}}),Object(b.jsxs)("div",{className:"vending-machine",children:[Object(b.jsx)("img",{className:"vending-bg",src:"/img/bg_vending_machine.png",alt:"Vending Machine Background"}),Object(b.jsx)("img",{className:"vending-btn-to-game",src:"/img/btn_mint_to_game.png",alt:"Button of Vending Machine to Game",onClick:function(){return I(Y.GAME)}}),L]})};var k=function(e){var t=Object(a.useRef)(null);return Object(b.jsxs)("div",{className:"mint",children:[Object(b.jsx)("img",{className:"mint-market-bg",src:"/img/bg_mint_market.png",alt:"Mint Market Background",onClick:function(){var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}}),Object(b.jsx)("div",{ref:t,children:Object(b.jsx)(M,Object(p.a)({},e.connectWallet))})]})},T=n(297),N=n(298);n(208);function S(e){var t=Object(a.useState)(null),n=Object(u.a)(t,2),r=n[0],i=n[1],s=function(){e.setNftDetail(e.metadata)},c=function(){e.setNftDetail(null)};return Object(b.jsxs)("div",{className:"nft-item",onClick:function(){e.selectNft(e.metadata),e.hideNftPanel()},onMouseOver:s,onMouseOut:c,onTouchStart:s,onTouchEnd:c,onTouchCancel:c,draggable:"true",onDragStart:function(e){i(e.clientX),e.dataTransfer.setDragImage(e.target,1e5,0)},onDrag:function(t){t.clientX>0&&(e.scrollPanel(r-t.clientX),i(t.clientX)),t.dataTransfer.setDragImage(t.target,1e5,0)},children:[Object(b.jsx)("img",{className:"nft-item-loading",src:"/img/placehold_nft_loading.png",alt:"NFT Loading"}),Object(b.jsx)("img",{className:"nft-image",src:"https://rpg.mypinata.cloud/ipfs/".concat(e.metadata.image.split("ipfs://")[1]),alt:e.metadata.name})]})}var P=function(e){var t=Object(a.useRef)(),n=function(e){t.current.scrollLeft+=e};return Object(b.jsx)("div",{className:"nft-panel",children:Object(b.jsx)("div",{className:"nft-container",ref:t,onWheel:function(e){e.deltaY>0&&n(30),e.deltaY<0&&n(-30)},children:e.metadata.map((function(t){var r={metadata:t,selectNft:e.selectNft,hideNftPanel:e.hideNftPanel,setNftDetail:e.setNftDetail,scrollPanel:n};return Object(a.createElement)(S,Object(p.a)(Object(p.a)({},r),{},{key:"nft-metadata-".concat(t.dna)}))}))})})};n(337);var C=function(e){return Object(b.jsx)("div",{className:"nft-detail",children:e.metadata&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["Name: ",e.metadata.name]}),e.metadata.attributes.map((function(e){return function(e){return Object(b.jsxs)("p",{children:[e.trait_type,": ",e.value]},"nft-metadata-attr-".concat(e.trait_type))}(e)}))]})})};n(338);function _(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var E=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)({}),d=Object(u.a)(s,2),f=d[0],y=d[1],g=Object(a.useState)(!1),j=Object(u.a)(g,2),v=j[0],h=j[1],x=Object(a.useState)("open"),O=Object(u.a)(x,2),w=O[0],M=O[1],k=Object(a.useState)(!1),S=Object(u.a)(k,2),E=S[0],A=S[1],F=Object(a.useState)(null),I=Object(u.a)(F,2),D=I[0],W=I[1],B=Object(a.useState)(null),L=Object(u.a)(B,2),G=L[0],R=L[1],U=Object(N.useMediaQuery)({query:"(max-width: 599px)"}),q=function(){var e=Object(a.useState)(_()),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(_())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),H=q.height,z=q.width,J=Object(a.useContext)(m),Q=J.account,X=J.contractAddress,V=J.contractAbi,K=J.parseEtherError,Z=J.checkAndSwitchNetwork,$=J.isTestnet,ee=J.updateStatus,te=J.setCurrPage,ne=function(){var e=Object(o.a)(Object(c.a)().mark((function e(){var t,n,a,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.ethereum){e.next=4;break}return ee("Please install MetaMask."),e.abrupt("return");case 4:return e.prev=4,e.delegateYield(Object(c.a)().mark((function e(){var t,a,s,o,u,p,d,m,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z($,ee);case 2:if(ee(X),X&&""!==X){e.next=6;break}return ee("Contract is not available"),e.abrupt("return",{v:void 0});case 6:return y({}),t=new l.a.providers.Web3Provider(n),a=t.getSigner(),s=new l.a.Contract(X,V,a),ee("Loading NFTs from blockchain..."),e.next=13,s.walletOfOwner(Q);case 13:if(o=e.sent,u=[],o.length>0){ee("You have ".concat(o.length," ").concat(o.length>1?"NFTs":"NFT",". Loading metadata...")),p=Object(T.a)(o);try{for(p.s();!(d=p.n()).done;)m=d.value,b=m.toNumber(),s.tokenURI(b).then((function(e){e.startsWith("ipfs://")&&(e="https://rpg.mypinata.cloud/ipfs/".concat(e.split("ipfs://")[1])),fetch(e).then((function(e){return e.json()})).then((function(e){u.push(e),i([].concat(u)),ee("You have ".concat(o.length," ").concat(o.length>1?"NFTs":"NFT",". ").concat(u.length," / ").concat(o.length," loaded. ").concat(r.length===o.length?"Select your favor NFT and play.":""))})).catch((function(e){var t=K(e);ee(t)}))}))}catch(c){p.e(c)}finally{p.f()}}else ee("You don't have any RPG404 NFTs. Please mint or buy on opensea.io");case 16:case"end":return e.stop()}}),e)}))(),"t0",6);case 6:if("object"!==typeof(a=e.t0)){e.next=9;break}return e.abrupt("return",a.v);case 9:e.next=15;break;case 11:e.prev=11,e.t1=e.catch(4),s=K(e.t1),ee(s);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=window.ethereum;if(e)return ne(),e.on("accountsChanged",ne),function(){null===e||void 0===e||e.removeListener("accountsChanged",ne)}}),[Q]);var ae=function(e){e&&R(e)},re=function(){R(null)},ie=function(){Q?r.length>0?(M("open"),h(!0)):(ee("No NFT loaded"),ne()):(ee("Please connect wallet first"),e.connectWallet())};return Object(b.jsxs)("div",{className:"game",children:[(!E||!U)&&Object(b.jsx)("img",{className:"game-bg",src:"/img/game_bg.png",alt:"Game Background"}),Object(b.jsx)("iframe",{id:"godot-game",className:"game-iframe ".concat(E?"game-iframe-show":"game-iframe-hide"),title:"RPG 404",src:"/game/game.html",frameBorder:"0",scrolling:"no",crossOrigin:"anonymous",style:U?{zoom:H/z*.9,left:H/z*-40}:{}}),E&&Object(b.jsx)("div",{className:"game-iframe-cover"}),!E&&Object(b.jsxs)("div",{className:"game-cover",children:[Object(b.jsx)("img",{className:"game-cover-img",src:"/img/game_cover.png",alt:"Game Cover"}),!v&&Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{className:"btn-game-play btn-clickable",src:"/img/btn_game_play.png",alt:"Play Game Button",onClick:function(){if(Q)if(r.length>0)if(f.name){var t=document.getElementById("godot-game");t?(t.contentWindow.nftMetadata=Object(p.a)({},f),window.nftMetadata=JSON.stringify(f),A(!0),t.contentWindow.startGame(),ee("Game start, enjoy!")):(A(!1),ee("Cannot find game :-("))}else ee("Please select your favor NFT before playing"),ie();else ee("No NFT loaded"),ne();else ee("Please connect wallet first"),e.connectWallet()},onMouseOver:function(){ae('Press "Space", "Enter", or "Mouse Left" to jump.')},onMouseOut:re,onTouchStart:function(){ae("Touch panel to jump.")},onTouchEnd:re,onTouchCancel:re}),Object(b.jsx)("img",{className:"btn-select-nft btn-clickable",src:"/img/btn_game_select_nft.png",alt:"Select NFT Button",onClick:ie,onMouseOver:function(){ae('Select a "RPG 404" NFT as your player.')},onMouseOut:re,onTouchStart:function(){ae('Select a "RPG 404" NFT as your player.')},onTouchEnd:re,onTouchCancel:re}),Object(b.jsx)("div",{className:"game-guide",children:G})]})]}),Object(b.jsx)("img",{className:"btn-game-to-mint",src:"/img/btn_game_to_mint.png",alt:"Mint Button",onClick:function(){return te(Y.MINT)}}),v?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:w,children:Object(b.jsx)(P,{metadata:r,selectNft:function(e){if(e){var t=e;y(Object(p.a)({},t)),ee("Selected NFT: ".concat(t.name))}},setNftDetail:W,hideNftPanel:Object(o.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M("close"),e.next=3,new Promise((function(e){return setTimeout(e,200)}));case 3:h(!1);case 4:case"end":return e.stop()}}),e)})))})}),Object(b.jsx)(C,{metadata:D})]}):null]})},A=function(e){return"0x"+Number(e).toString(16)},F=function(e){var t="error";if(e&&e.message){console.error(e.message);var n=e.message.match(/(?:"message":)".*?"/g);t=n&&n.length>0&&""!==n[0]?n[0].replace('"message":',""):e.message}return t},I=n(311),D=n(308),W=n.n(D),B=n(309),L=n.n(B),G={walletlink:{package:W.a,options:{appName:"RPG 404",infuraId:"9ff9cd34b94a48d9bc6e3fc48f02673f"}},walletconnect:{package:I.a,options:{infuraId:"9ff9cd34b94a48d9bc6e3fc48f02673f"}}},R=new L.a({theme:"dark",providerOptions:G,disableInjectedProvider:!1}),U={"0x63564c40":{chainId:"0x63564c40",rpcUrls:["https://api.harmony.one"],chainName:"Harmony Mainnet",nativeCurrency:{name:"ONE",decimals:18,symbol:"ONE"},blockExplorerUrls:["https://explorer.harmony.one"],iconUrls:["https://harmonynews.one/wp-content/uploads/2019/11/slfdjs.png"]},"0xa4ec":{chainId:"0xa4ec",rpcUrls:["https://forno.celo.org"],chainName:"Celo Mainnet",nativeCurrency:{name:"CELO",decimals:18,symbol:"CELO"},blockExplorerUrl:["https://explorer.celo.org"],iconUrls:["https://celo.org/images/marketplace-icons/icon-celo-CELO-color-f.svg"]}},q=(n(581),n(310)),H=n.n(q),Y={GAME:"game",MINT:"mint"};var z=function(){var e=Object(a.useContext)(m),t=e.contractAddress,n=e.contractAbi,r=e.openseaColletionName,i=e.isTestnet,s=Object(a.useState)(0),p=Object(u.a)(s,2),d=p[0],f=p[1],y=Object(a.useState)(0),g=Object(u.a)(y,2),v=g[0],h=g[1],x=Object(a.useState)(0),M=Object(u.a)(x,2),T=M[0],N=M[1],S=Object(a.useState)(0),P=Object(u.a)(S,2),C=P[0],_=P[1],I=Object(a.useState)(0),D=Object(u.a)(I,2),W=D[0],B=D[1],L=Object(a.useState)(0),G=Object(u.a)(L,2),q=G[0],z=G[1],J=Object(a.useState)(Y.GAME),Q=Object(u.a)(J,2),X=Q[0],V=Q[1],K=Object(a.useState)(),Z=Object(u.a)(K,2),$=Z[0],ee=Z[1],te=Object(a.useState)(),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1],ie=Object(a.useState)(),se=Object(u.a)(ie,2),ce=se[0],oe=se[1],ue=Object(a.useState)(),le=Object(u.a)(ue,2),pe=le[0],de=le[1],me=Object(a.useState)(""),be=Object(u.a)(me,2),fe=be[0],ye=be[1],ge=function(e){console.log(e),ye("Status: ".concat(e))},je=Object(a.useCallback)(Object(o.a)(Object(c.a)().mark((function e(){var t,n,a,r,i,s,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.connect();case 3:return t=e.sent,n=new l.a.providers.Web3Provider(t),e.next=7,n.listAccounts();case 7:return a=e.sent,e.next=10,n.getNetwork();case 10:return r=e.sent,ee(t),re(n),a&&de(a[0]),oe(r.chainId),e.next=17,R.toggleModal();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),ge(e.t0);case 22:return e.next=24,H()();case 24:if(!(i=e.sent)){e.next=36;break}return console.log("Ethereum successfully detected!"),e.next=29,i.request({method:"eth_chainId"});case 29:s=e.sent,console.log(s),i!==window.ethereum&&console.error("Do you have multiple wallets installed?"),o=function(e){var t;console.log("=================== accounts"),console.log(e),0===e.length?console.log("Please connect to MetaMask."):e[0]!==t&&(t=e[0],console.log("=================== currAccount"),console.log(t))},i.request({method:"eth_accounts"}).then(o).catch((function(e){console.error(e)})),e.next=37;break;case 36:console.error("Please install MetaMask!");case 37:case"end":return e.stop()}}),e,null,[[0,19]])}))),[]),ve=Object(a.useCallback)(function(){var e=Object(o.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:A(t)}]});case 3:e.next=16;break;case 5:if(e.prev=5,e.t0=e.catch(0),4902!==e.t0.code){e.next=16;break}return e.prev=8,e.next=11,ae.provider.request({method:"wallet_addEthereumChain",params:[U[A(t)]]});case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(8),ge(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,5],[8,13]])})));return function(t){return e.apply(this,arguments)}}(),[ae]),he=Object(a.useCallback)(function(){var e=Object(o.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=3;break}throw ge("Please connect wallet first."),new Error("Please connect wallet first.");case 3:t&&4!==ce&&(n("Please change network to testnet"),ve("4")),t||1===ce||(n("Please change network to Ethereum Mainnet"),ve("1"));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[ce,$,ve]),xe=Object(a.useCallback)(Object(o.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.clearCachedProvider();case 2:de(),oe();case 3:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){if(null!==$&&void 0!==$&&$.on){var e=function(){var e=arguments.length<=0?void 0:arguments[0];if(0===e.length)ge("No authorized account found");else if(e[0]!==pe){var t=e[0];de(t),ge("Connected (address: ".concat(t,")"))}},t=function(e){oe(e)},n=function(e){console.log("disconnect",e),xe()};return $.on("accountsChanged",e),$.on("chainChanged",t),$.on("disconnect",n),function(){$.removeListener&&($.removeListener("accountsChanged",e),$.removeListener("chainChanged",t),$.removeListener("disconnect",n))}}}),[pe,xe,$]);var Oe=Object(a.useMemo)((function(){return{contractAddress:t,contractAbi:n,openseaColletionName:r,isTestnet:i,parseEtherError:F,price:d,setPrice:f,maxSupply:v,setMaxSupply:h,maxFreeSupply:C,setMaxFreeSupply:_,totalSupply:T,setTotalSupply:N,maxPerTxDuringMint:W,setMaxPerTxDuringMint:B,maxPerAddressDuringFreeMint:q,setMaxPerAddressDuringFreeMint:z,currPage:X,setCurrPage:V,provider:$,library:ae,chainId:ce,account:pe,checkAndSwitchNetwork:he,statusMsg:fe,updateStatus:ge}}),[n,t,X,$,ae,ce,pe,he,i,C,q,W,v,r,d,fe,T]);return Object(b.jsx)(m.Provider,{value:Oe,children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{connectWallet:je}),X===Y.GAME&&Object(b.jsx)(E,{connectWallet:je}),X===Y.MINT&&Object(b.jsx)(k,{connectWallet:je}),Object(b.jsx)(O,{}),Object(b.jsx)(w,{statusMsg:fe})]})})};s.a.createRoot(document.getElementById("root")).render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(z,{})}))}},[[582,1,2]]]);
//# sourceMappingURL=main.60161993.chunk.js.map